# Project Summary
The "Talk to My Lawyer" project is a SaaS application aimed at simplifying the creation and review of legal documents. It caters to three primary user roles: Subscribers who generate legal letters, Employees who manage sales through coupon codes, and Admins who supervise document approvals. The platform leverages AI technology to draft documents and integrates with payment processors for subscription management, thus improving accessibility and efficiency in legal services.

# Project Module Description
The application consists of the following functional modules:
- **User Authentication**: Handles user roles and session management.
- **Letter Generation**: Allows subscribers to create legal letters using AI.
- **Subscription Management**: Manages user subscriptions and coupon codes.
- **Admin Review**: Provides a dashboard for Admins to review, edit, and approve letters.
- **Email Notifications**: Sends updates to users regarding their letters and subscriptions.
- **PDF Generation**: Converts approved letters into downloadable PDF format.
- **Database Migration**: Includes SQL scripts for setting up the necessary database tables.

# Directory Tree
```
ttml_app/
├── main-main/
│   ├── app/
│   │   ├── api/
│   │   ├── dashboard/
│   │   ├── globals.css
│   │   └── layout.tsx
│   ├── components/
│   ├── supabase/
│   ├── scripts/
│   ├── styles/
│   ├── README.md
│   ├── package.json
│   └── migrations/
│       ├── COMPLETE_MIGRATION.sql
│       └── fixed_005_no_enum.sql
```

# File Description Inventory
- `app/api/`: Contains API routes for user authentication, letter generation, and subscription management.
- `app/dashboard/`: Houses components for admin and user dashboards, including letter management and analytics.
- `components/`: Reusable UI components for the application.
- `supabase/`: Contains database migrations and functions related to the Supabase backend.
- `scripts/`: Scripts for database setup and administrative tasks.
- `styles/`: Global styles for the application.
- `README.md`: Documentation for project setup and usage.
- `migrations/COMPLETE_MIGRATION.sql`: SQL script for setting up necessary database tables.
- `migrations/fixed_005_no_enum.sql`: Corrected SQL migration for the letter allowance system without enum dependency.

# Technology Stack
- **Frontend**: Next.js 14, TypeScript, Tailwind CSS
- **Backend**: Supabase, OpenAI GPT-4
- **Payment Processing**: Stripe
- **Email Service**: Resend

# Usage
1. **Install Dependencies**: Run the command to install required packages.
2. **Build the Application**: Use the build command to compile the application.
3. **Run the Application**: Start the application server for local development.
4. **Set Up Database**: Use the `COMPLETE_MIGRATION.sql` file to create the necessary tables in Supabase, and apply the `fixed_005_no_enum.sql` for the letter allowance system.
